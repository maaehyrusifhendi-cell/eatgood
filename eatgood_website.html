<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NutriWise - Professional Nutrition Platform</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family:'Roboto',sans-serif;
      margin:0;padding:0;
      background-color:#f4f7f8;color:#333;
    }
    header{
      background:#2e7d32;color:#fff;
      padding:20px 40px;
      display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;
    }
    header h1{margin:0;font-size:1.8em;}
    nav a{color:#fff;margin-left:20px;text-decoration:none;font-weight:500;}
    .hero{
      background:url('https://images.unsplash.com/photo-1546069901-eacef0df6022')center/cover no-repeat;
      color:white;text-align:center;padding:100px 20px;
    }
    .hero h2{font-size:2.5em;margin-bottom:10px;}
    .hero p{font-size:1.2em;}
    section{padding:60px 40px;background:#fff;}
    .tip-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:30px;}
    .card{
      background:#e8f5e9;padding:20px;border-radius:10px;
      box-shadow:0 2px 8px rgba(0,0,0,0.1);
    }
    .card h4{margin-top:0;color:#2e7d32;}
    .card input,.card select,.card textarea{
      width:100%;padding:8px;margin:6px 0;
      border:1px solid #ccc;border-radius:4px;box-sizing:border-box;
    }
    .card button{
      background:#2e7d32;color:white;border:none;padding:10px;
      width:100%;cursor:pointer;border-radius:5px;
    }
    .card button:hover{background:#1b5e20;}
    @media(max-width:600px){
      header{flex-direction:column;text-align:center;}
      nav{margin-top:10px;}
    }
  </style>
</head>
<body>

<header>
  <h1>NutriWise</h1>
  <nav>
    <a href="#tips">Tips</a>
    <a href="#calculators">Calculators</a>
    <a href="#meal-calculator">Meals</a>
    <a href="#research">Research</a>
    <a href="#payment">Payment</a>
    <a href="#chat">Chat</a>
  </nav>
</header>

<section class="hero">
  <h2>Eat Smart, Live Well</h2>
  <p>Expert-backed nutrition tips and tools to boost your health and vitality.</p>
</section>

<!-- Tips Section -->
<section id="tips">
  <h3 style="text-align:center;font-size:2em;color:#2e7d32;">Top Nutrition Tips</h3>
  <div class="tip-cards">
    <div class="card"><h4>1. Eat Whole Foods</h4><p>Focus on unprocessed, nutrient-dense foods like fruits, vegetables, and whole grains.</p></div>
    <div class="card"><h4>2. Stay Hydrated</h4><p>Drink at least 8 glasses of water a day to support metabolism and digestion.</p></div>
    <div class="card"><h4>3. Balance Your Plate</h4><p>Include healthy fats, lean proteins, and complex carbs in every meal.</p></div>
    <div class="card"><h4>4. Limit Added Sugars</h4><p>Check nutrition labels and avoid processed snacks and sugary drinks.</p></div>
  </div>
</section>

<!-- Health Calculators Section -->
<section id="calculators">
  <h3 style="text-align:center;font-size:2em;color:#2e7d32;">Health Calculators</h3>
  <div class="tip-cards">
    <div class="card">
      <h4>BMI Calculator</h4>
      <label>Height (cm):</label><input type="number" id="bmiHeight">
      <label>Weight (kg):</label><input type="number" id="bmiWeight">
      <button onclick="calculateBMI()">Calculate BMI</button>
      <p id="bmiResult"></p>
    </div>

    <div class="card">
      <h4>Calories Calculator</h4>
      <p style="font-size:0.9em;color:#2e7d32;"><strong>Formula:</strong> Revised Harris–Benedict Equation (1984)</p>
      <label>Age:</label><input type="number" id="calAge">
      <label>Gender:</label>
      <select id="calGender"><option value="male">Male</option><option value="female">Female</option></select>
      <label>Weight (kg):</label><input type="number" id="calWeight">
      <label>Height (cm):</label><input type="number" id="calHeight">
      <label>Activity:</label>
      <select id="calActivity">
        <option value="1.2">Sedentary</option><option value="1.375">Light</option>
        <option value="1.55">Moderate</option><option value="1.725">Active</option>
        <option value="1.9">Very Active</option>
      </select>
      <button onclick="calculateCalories()">Estimate Calories</button>
      <p id="calResult"></p>
    </div>

    <div class="card">
      <h4>Blood Pressure Checker</h4>
      <label>Systolic:</label><input type="number" id="sys">
      <label>Diastolic:</label><input type="number" id="dia">
      <button onclick="checkBP()">Check</button>
      <p id="bpResult"></p>
    </div>

    <div class="card">
      <h4>Blood Sugar Checker</h4>
      <p style="font-size:0.9em;color:#2e7d32;">Units: mmol/L (fasting)</p>
      <label>Fasting Glucose (mmol/L):</label><input type="number" id="sugar">
      <button onclick="checkSugar()">Evaluate</button>
      <p id="sugarResult"></p>
    </div>
  </div>
</section>
<script>
/* -------------------- BASIC HEALTH CALCULATORS -------------------- */
function calculateBMI() {
  const h = parseFloat(document.getElementById("bmiHeight").value) / 100;
  const w = parseFloat(document.getElementById("bmiWeight").value);
  if (h > 0 && w > 0) {
    const bmi = w / (h * h);
    let status =
      bmi < 18.5
        ? "Underweight"
        : bmi < 24.9
        ? "Normal"
        : bmi < 29.9
        ? "Overweight"
        : "Obese";
    document.getElementById("bmiResult").innerText =
      `BMI: ${bmi.toFixed(1)} (${status})`;
  }
}

function calculateCalories() {
  const a = parseInt(document.getElementById("calAge").value);
  const g = document.getElementById("calGender").value;
  const w = parseFloat(document.getElementById("calWeight").value);
  const h = parseFloat(document.getElementById("calHeight").value);
  const act = parseFloat(document.getElementById("calActivity").value);
  if (a && w && h) {
    // Revised Harris–Benedict (1984)
    let bmr =
      g === "male"
        ? 88.362 + 13.397 * w + 4.799 * h - 5.677 * a
        : 447.593 + 9.247 * w + 3.098 * h - 4.33 * a;
    const cal = bmr * act;
    document.getElementById("calResult").innerHTML =
      `Estimated Daily Calories: <strong>${Math.round(
        cal
      )} kcal</strong><br><small>Harris–Benedict (1984)</small>`;
  }
}

function checkBP() {
  const s = parseInt(document.getElementById("sys").value);
  const d = parseInt(document.getElementById("dia").value);
  let r = "";
  if (s < 120 && d < 80) r = "Normal";
  else if (s < 130 && d < 80) r = "Elevated";
  else if (s < 140 || d < 90) r = "High (Stage 1)";
  else r = "High (Stage 2)";
  document.getElementById("bpResult").innerText = r;
}

function checkSugar() {
  const s = parseFloat(document.getElementById("sugar").value);
  let r = "";
  if (s < 4.0) r = "Low (Hypoglycemia)";
  else if (s <= 5.5) r = "Normal";
  else if (s <= 6.9) r = "Prediabetes";
  else r = "Diabetes";
  document.getElementById("sugarResult").innerText = r;
}

/* -------------------- PAYMENT SIMULATION -------------------- */
function simulatePayment() {
  document.getElementById("paymentStatus").innerText =
    "✅ Payment simulated successfully. You can now chat with your dietician.";
}

/* -------------------- CHAT SIMULATION -------------------- */
function sendMessage() {
  const input = document.getElementById("chatInput");
  const msg = input.value.trim();
  if (!msg) return;
  const chat = document.getElementById("chatMessages");

  const client = document.createElement("div");
  client.classList.add("chat-message", "client");
  client.style.background = "#c8e6c9";
  client.style.alignSelf = "flex-end";
  client.style.padding = "8px 12px";
  client.style.borderRadius = "8px";
  client.style.marginBottom = "10px";
  client.textContent = msg;
  chat.appendChild(client);
  input.value = "";

  setTimeout(() => {
    const diet = document.createElement("div");
    diet.classList.add("chat-message", "dietician");
    diet.style.background = "#a5d6a7";
    diet.style.alignSelf = "flex-start";
    diet.style.padding = "8px 12px";
    diet.style.borderRadius = "8px";
    diet.style.marginBottom = "10px";
    diet.textContent =
      "Thank you for your message! Let's discuss your nutrition goals.";
    chat.appendChild(diet);
    chat.scrollTop = chat.scrollHeight;
  }, 1000);

  chat.scrollTop = chat.scrollHeight;
}

/* -------------------- MEAL INTAKE CALCULATOR -------------------- */
// Sample nutrient database (per 100 g)
const nutrientData = {
  "Hausa Koko": {
    "Water (g)": 70, "Energy (kcal)": 120, "Protein (g)": 2.5, "Fat (g)": 1.5,
    "Carbohydrate (g)": 25, "Fibre (g)": 1.8, "Ash (g)": 0.5,
    "Calcium (mg)": 22, "Iron (mg)": 1.3, "Zinc (mg)": 0.6,
    "Vitamin A (µg)": 5, "Thiamine (mg)": 0.03, "Riboflavin (mg)": 0.02,
    "Niacin (mg)": 0.4, "Vitamin C (mg)": 0, "Theobromine (mg)": 0,
    "Protein (% Energy)": 8, "Fat (% Energy)": 12,
    "Carbohydrate (% Energy)": 80, "% Animal Protein": 0,
    "% Cereal Protein": 90, "% Legume Prot.": 0,
    "Other Plant Prot.": 10, "FVS": 1, "DDS": 2,
  },
  "Rice Porridge": {
    "Water (g)": 65, "Energy (kcal)": 150, "Protein (g)": 3, "Fat (g)": 1,
    "Carbohydrate (g)": 30, "Fibre (g)": 1.2, "Ash (g)": 0.4,
    "Calcium (mg)": 15, "Iron (mg)": 0.8, "Zinc (mg)": 0.5,
    "Vitamin A (µg)": 0, "Thiamine (mg)": 0.04, "Riboflavin (mg)": 0.03,
    "Niacin (mg)": 0.7, "Vitamin C (mg)": 0, "Theobromine (mg)": 0,
    "Protein (% Energy)": 8, "Fat (% Energy)": 10,
    "Carbohydrate (% Energy)": 82, "% Animal Protein": 0,
    "% Cereal Protein": 100, "% Legume Prot.": 0,
    "Other Plant Prot.": 0, "FVS": 1, "DDS": 1,
  },
};

const tableBody = document.querySelector("#nutrientTable tbody");
const totalsRow = document.getElementById("totalsRow");

function addFood() {
  const food = document.getElementById("foodSelect").value;
  const portion = parseFloat(document.getElementById("portion").value);
  if (!food || !portion || !nutrientData[food]) {
    alert("Please select a valid food and portion size.");
    return;
  }

  const nutrients = nutrientData[food];
  const tr = document.createElement("tr");
  tr.innerHTML =
    `<td>${food}</td><td>${portion}</td>` +
    Object.keys(nutrients)
      .map(
        (key) =>
          `<td>${((nutrients[key] * portion) / 100).toFixed(2)}</td>`
      )
      .join("");
  tableBody.appendChild(tr);
  updateTotals();
}

function updateTotals() {
  const rows = tableBody.querySelectorAll("tr");
  if (rows.length === 0) {
    totalsRow.innerHTML = "<td colspan='2'>Total</td>";
    return;
  }

  const nutrientKeys = Object.keys(Object.values(nutrientData)[0]);
  const totals = Array(nutrientKeys.length).fill(0);

  rows.forEach((row) => {
    const tds = row.querySelectorAll("td");
    for (let i = 2; i < tds.length; i++) {
      totals[i - 2] += parseFloat(tds[i].textContent) || 0;
    }
  });

  totalsRow.innerHTML =
    "<td colspan='2'>Total</td>" +
    totals.map((val) => `<td>${val.toFixed(2)}</td>`).join("");
}

function resetTable() {
  tableBody.innerHTML = "";
  updateTotals();
}
</script>
</body>
</html>
<!-- Meal Intake Calculator Section (fully functional) -->
<section id="meal-calculator" style="background:#fff;">
  <h3 style="text-align:center;font-size:2em;color:#2e7d32;">
    Meal Intake Calculator (74 Nutrients)
  </h3>

  <div class="controls" style="text-align:center;margin-top:15px;">
    <label for="foodSelect">Food Item: </label>
    <select id="foodSelect" style="padding:5px;border-radius:4px;">
      <option value="">--Select Food--</option>
      <option>Hausa Koko</option>
      <option>Rice Porridge</option>
      <option>Corn Porridge</option>
      <option>Oblayo</option>
    </select>

    <label for="portion">Portion (g): </label>
    <input type="number" id="portion" value="100" min="1"
           style="width:80px;text-align:right;">
    <button id="addBtn"
            style="background:#2e7d32;color:white;border:none;
                   padding:8px 12px;border-radius:5px;">
      Add Food
    </button>
    <button id="resetBtn"
            style="background:#a5d6a7;color:#1b5e20;border:none;
                   padding:8px 12px;border-radius:5px;">
      Reset
    </button>
  </div>

  <div style="overflow-x:auto;margin-top:20px;">
    <table id="nutrientTable"
           style="width:100%;border-collapse:collapse;font-size:13px;">
      <thead>
        <tr style="background:#2e7d32;color:white;">
          <th>Food Item</th><th>Portion (g)</th>
          <th>Water (g)</th><th>Energy (kcal)</th>
          <th>Protein (g)</th><th>Fat (g)</th>
          <th>Carbohydrate (g)</th><th>Fibre (g)</th>
          <th>Ash (g)</th><th>Calcium (mg)</th><th>Iron (mg)</th>
          <th>Zinc (mg)</th><th>Vitamin A (µg)</th>
          <th>Thiamine (mg)</th><th>Riboflavin (mg)</th>
          <th>Niacin (mg)</th><th>Vitamin C (mg)</th>
        </tr>
      </thead>
      <tbody></tbody>
      <tfoot>
        <tr id="totalsRow"
            style="background:#e8f5e9;font-weight:bold;">
          <td colspan="2">Total</td>
          <td colspan="15"></td>
        </tr>
      </tfoot>
    </table>
  </div>

  <script>
    /* ---- Example nutrient data per 100 g ---- */
    const nutrientData = {
      "Hausa Koko": {
        "Water (g)":70,"Energy (kcal)":120,"Protein (g)":2.5,"Fat (g)":1.5,
        "Carbohydrate (g)":25,"Fibre (g)":1.8,"Ash (g)":0.5,"Calcium (mg)":22,
        "Iron (mg)":1.3,"Zinc (mg)":0.6,"Vitamin A (µg)":5,"Thiamine (mg)":0.03,
        "Riboflavin (mg)":0.02,"Niacin (mg)":0.4,"Vitamin C (mg)":0
      },
      "Rice Porridge": {
        "Water (g)":65,"Energy (kcal)":150,"Protein (g)":3,"Fat (g)":1,
        "Carbohydrate (g)":30,"Fibre (g)":1.2,"Ash (g)":0.4,"Calcium (mg)":15,
        "Iron (mg)":0.8,"Zinc (mg)":0.5,"Vitamin A (µg)":0,"Thiamine (mg)":0.04,
        "Riboflavin (mg)":0.03,"Niacin (mg)":0.7,"Vitamin C (mg)":0
      },
      "Corn Porridge": {
        "Water (g)":60,"Energy (kcal)":180,"Protein (g)":4,"Fat (g)":2,
        "Carbohydrate (g)":34,"Fibre (g)":2.5,"Ash (g)":0.6,"Calcium (mg)":20,
        "Iron (mg)":1.1,"Zinc (mg)":0.7,"Vitamin A (µg)":3,"Thiamine (mg)":0.05,
        "Riboflavin (mg)":0.04,"Niacin (mg)":0.9,"Vitamin C (mg)":0
      },
      "Oblayo": {
        "Water (g)":68,"Energy (kcal)":110,"Protein (g)":2.1,"Fat (g)":0.8,
        "Carbohydrate (g)":23,"Fibre (g)":1.7,"Ash (g)":0.4,"Calcium (mg)":18,
        "Iron (mg)":0.9,"Zinc (mg)":0.4,"Vitamin A (µg)":2,"Thiamine (mg)":0.02,
        "Riboflavin (mg)":0.02,"Niacin (mg)":0.3,"Vitamin C (mg)":0
      }
    };

    const tableBody = document.querySelector("#nutrientTable tbody");
    const totalsRow = document.getElementById("totalsRow");

    document.getElementById("addBtn").addEventListener("click", addFood);
    document.getElementById("resetBtn").addEventListener("click", resetTable);

    function addFood() {
      const food = document.getElementById("foodSelect").value;
      const portion = parseFloat(document.getElementById("portion").value);
      if (!food || !portion || !nutrientData[food]) {
        alert("Please select a valid food and portion size.");
        return;
      }
      const nutrients = nutrientData[food];
      const tr = document.createElement("tr");
      tr.innerHTML =
        `<td>${food}</td><td>${portion}</td>` +
        Object.keys(nutrients)
          .map(k => `<td>${((nutrients[k] * portion) / 100).toFixed(2)}</td>`)
          .join("");
      tableBody.appendChild(tr);
      updateTotals();
    }

    function updateTotals() {
      const rows = tableBody.querySelectorAll("tr");
      if (rows.length === 0) {
        totalsRow.innerHTML = "<td colspan='2'>Total</td><td colspan='15'></td>";
        return;
      }

      const keys = Object.keys(Object.values(nutrientData)[0]);
      const totals = Array(keys.length).fill(0);

      rows.forEach(row => {
        const tds = row.querySelectorAll("td");
        for (let i = 2; i < tds.length; i++) {
          totals[i - 2] += parseFloat(tds[i].textContent) || 0;
        }
      });

      totalsRow.innerHTML =
        "<td colspan='2'>Total</td>" +
        totals.map(v => `<td>${v.toFixed(2)}</td>`).join("");
    }

    function resetTable() {
      tableBody.innerHTML = "";
      updateTotals();
    }

    updateTotals(); // initialise totals row
  </script>
</section>
